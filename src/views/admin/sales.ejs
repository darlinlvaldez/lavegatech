<%- include('../admin/dashboard.ejs') %>

  <link rel="stylesheet" href="/css/admin/chart.css">

  <div class="grafico-contenedor">

    <div id="contenedorFiltrosFecha">
      <label for="rangoSelect">Selecciona rango:</label>
      <select id="rangoSelect">
        <option value="mes">Mes</option>
        <option value="año">Año</option>
        <option value="fecha-especifica">Fecha específica</option>
        <option value="personalizado">Rango personalizado</option>
      </select>

      <label for="anioInput" id="labelAnioInput" style="display:none;">Año:</label>
      <input type="number" id="anioInput" min="2000" max="2099" style="display:none; width:120px;">

      <label for="fechaDesde" id="labelFechaDesde" style="display:none;">Desde:</label>
      <input type="date" id="fechaDesde" style="display:none;">

      <label for="fechaHasta" id="labelFechaHasta" style="display:none;">Hasta:</label>
      <input type="date" id="fechaHasta" style="display:none;">

      <label for="tipoGraficoSelect">Tipo de gráfico:</label>
      <select id="tipoGraficoSelect">
        <option value="bar">Barras</option>
        <option value="line">Línea</option>
      </select>

      <label for="mesSelect" id="labelMesSelect" style="display:none;">Selecciona mes:</label>
      <input type="month" id="mesSelect" style="display:none;" />

      <label for="fechaSelect" id="labelFechaSelect" style="display:none;">Selecciona fecha:</label>
      <input type="date" id="fechaSelect" style="display:none;" value="<%= new Date().toISOString().split('T')[0] %>" />
      </div>

    <div class="filtro-tipo">
      <button id="btnFecha" class="active">Ventas por fecha</button>
      <button id="btnProductos">Top productos</button>
    </div>

    <button id="btnDescargarPDF" class="no-in-pdf" disabled>
      Descargar PDF
    </button>

    <button id="btnExcel" class="no-in-pdf">
      Exportar Excel
    </button>

    <div class="container-report-pdf">

      <div id="resumenVentas" class="resumen-ventas"></div>

        <div class="chart-wrapper">
          <canvas id="ventasChart"></canvas>
        </div>

      <div id="tablaReporte" class="table-container" style="margin-top:18px;">
        <div class="table-header">
          <h4 id="tablaTitulo" style="margin:0;"></h4>
        </div>
        <div class="table-responsive">
          <table id="reporteTable" class="report-table">
            <thead>
            </thead>
            <tbody>
            </tbody>
            <tfoot>
            </tfoot>
          </table>
        </div>
      </div>
    </div>

  <script type="module" src="/js/admin/charts/chart.js"></script>
  <script src="/js/utils/formatPrice.js"></script>
  <script src="/js/utils/PDF.js"></script>
  <script src="/js/utils/excel.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>