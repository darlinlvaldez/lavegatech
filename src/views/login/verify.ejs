<%- include('../components/header.ejs') %>
<body>
  <div class="code-container">
    <h2>Ingresar el código de verificación</h2>
    <p>Para tu seguridad, enviamos el código a tu correo electrónico <strong><%= email %></strong></p>

    <form method="POST" action="/api/auth/verifyCode">
      <input type="hidden" name="email" value="<%= email %>">
      <input type="hidden" name="type" value="<%= type %>">
      <input type="text" name="code" placeholder="Código de verificación" required
        class="<%= validationErrors?.code ? 'input-error' : '' %>">
      <% if (validationErrors?.code) { %>
        <p class="field-error"><%= validationErrors.code %></p>
      <% } %>
      <% if (error && !validationErrors?.code) { %>
        <p class="general-error"><%= error %></p>
      <% } %>
      <button type="submit">
        <%= type === 'reset' ? 'Verificar código' : 'Verificar' %>
      </button>
    </form>

    <form method="POST" action="/api/auth/resendCode">
      <input type="hidden" name="email" value="<%= email %>">
      <input type="hidden" name="type" value="<%= type %>">
      <button type="submit">Reenviar código</button>
    </form>
  </div>
</body>
<%- include('../components/footer.ejs') %>